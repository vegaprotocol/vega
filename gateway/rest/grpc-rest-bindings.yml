---
type: google.api.Service
config_version: 3

name: api.trading
title: Vega Trading API

apis:
  - name: trading

http:
  rules:
    # Auth
    - selector: api.trading.SignIn
      post: '/auth/token'
      body: "*"
    - selector: api.trading.CheckToken
      get: '/auth/token'

    # Markets
    - selector: api.trading_data.Markets
      get: '/markets'
    - selector: api.trading_data.MarketByID
      get: '/markets/{marketID}'
    - selector: api.trading_data.Candles
      get: '/markets/{marketID}/candles'
    - selector: api.trading_data.MarketDepth
      get: '/markets/{marketID}/depth'
    - selector: api.trading_data.OrdersByMarket
      get: '/markets/{marketID}/orders'
    - selector: api.trading_data.OrderByMarketAndID
      get: '/markets/{marketID}/orders/{orderID}'
    - selector: api.trading_data.TradesByMarket
      get: '/markets/{marketID}/trades'
    - selector: api.trading_data.LastTrade
      get: '/markets/{marketID}/trades/latest'
    - selector: api.trading_data.MarketAccounts
      get: '/markets/{marketID}/accounts'

    # MarketData
    - selector: api.trading_data.MarketsData
      get: '/markets-data'
    - selector: api.trading_data.MarketDataByID
      get: '/markets-data/{marketID}'


    # Orders
    - selector: api.trading.SubmitTransaction
      post: '/transaction'
      body: "*"
    - selector: api.trading.PrepareSubmitOrder
      post: '/orders/prepare'
      body: "*"
    - selector: api.trading.PrepareCancelOrder
      delete: '/orders/prepare/{cancellation.orderID}'
    - selector: api.trading.PrepareAmendOrder
      put: '/orders/prepare/{amendment.orderID}'
      body: "*"
    - selector: api.trading.SubmitOrder
      post: '/orders'
      body: "*"
    - selector: api.trading_data.OrderByReference
      get: '/orders/{reference}'
    - selector: api.trading.CancelOrder
      delete: '/orders/{cancellation.orderID}'
    - selector: api.trading.AmendOrder
      put: '/orders/{amendment.orderID}'
      body: "*"
    - selector: api.trading_data.TradesByOrder
      get: '/orders/{orderID}/trades'

    # Parties
    - selector: api.trading_data.Parties
      get: '/parties'
    - selector: api.trading_data.PartyByID
      get: '/parties/{partyID}'
    - selector: api.trading_data.OrdersByParty
      get: '/parties/{partyID}/orders'
    - selector: api.trading_data.PositionsByParty
      get: '/parties/{partyID}/positions'
    - selector: api.trading_data.TradesByParty
      get: '/parties/{partyID}/trades'
    - selector: api.trading_data.PartyAccounts
      get: '/parties/{partyID}/accounts'
    - selector: api.trading_data.MarginLevels
      get: '/parties/{partyID}/markets/{marketID}/margin'
    - selector: api.trading.Withdraw
      post: '/parties/{withdraw.partyID}/withdrawals'
      body: '*'

    # Governance
    - selector: api.trading.PrepareProposal
      post: '/governance/proposals'
      body: "*"

    # Miscellaneous
    - selector: api.trading.NotifyTraderAccount
      post: '/fountain'
      body: "*"
    - selector: api.trading_data.Statistics
      get: '/statistics'
    - selector: api.trading_data.GetVegaTime
      get: '/time'
